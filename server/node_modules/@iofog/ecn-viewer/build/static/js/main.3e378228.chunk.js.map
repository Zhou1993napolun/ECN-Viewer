{"version":3,"sources":["assets/logomark.svg","ECNViewer/ControllerInfo.js","ECNViewer/ActiveResources.js","Theme/ThemeProvider.js","ECNViewer/utils.js","Utils/Modal.js","Utils/Confirm.js","Utils/Alert.js","Utils/FeedbackContext.js","ControllerProvider/index.js","ECNViewer/AgentList/ConnectNode.js","Utils/Autocomplete.js","ECNViewer/AgentList/AddMicroservice.js","ECNViewer/AgentList/RemoveMicroservice.js","ECNViewer/AgentList/Tabs.js","ECNViewer/AgentList/index.js","ECNViewer/Map.js","ECNViewer/index.js","hooks/useInterval.js","Config/index.js","Layout/index.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","CONTROLLER_NAME_KEY","DEFAULT_CONTROLLER_NAME","useStyles","makeStyles","theme","controllerInfo","paddingTop","& .paper","padding","controllerName","fontSize","fontFamily","fontWeight","lineHeight","letterSpacing","width","&::before","borderBottom","warningChip","backgroundColor","concat","colors","danger","color","controllerTitle","display","justifyContent","alignItems","textEmphasis","ControllerInfo","props","classes","useTheme","controller","loading","error","_ref","location","city","country","lat","lon","query","controllerError","_React$useState","React","useState","window","localStorage","getItem","_React$useState2","Object","slicedToArray","setControllerName","useEffect","document","title","react_default","a","createElement","className","Typography","style","variant","Input","value","onChange","e","name","target","setItem","Tooltip","message","aria-label","Chip","label","--color","gold","List","ListItem","ListItemIcon","LocationCity_default","ListItemText","bundle_default","primary","cursor","onClick","selectController","GpsFixed_default","WifiTethering_default","summary","gridTemplateColumns","gridColumnGap","textAlign","ActiveResources","activeFlows","activeAgents","activeMsvcs","Paper","length","phosphorus","cobalt","chromium","argon","carbon","lead","aluminium","silver","white","createMuiTheme","objectSpread","customTheme","success","Theming","ThemeProvider","children","statusColor","RUNNING","UNKNOWN","OFFLINE","msvcStatusColor","modalTitle","borderRadius","modal","top","left","position","modalContent","maxHeight","overflowY","modalActions","modalAction","marginLeft","_Modal","open","onClose","Modal","assign","aria-labelledby","Close_default","actions","map","Button","text","divider","margin","Confirm","onConfirm","Divider","Grid","container","justify","spacing","item","variantIcon","CheckCircleIcon","warning","WarningIcon","ErrorIcon","info","InfoIcon","icon","iconVariant","opacity","marginRight","alert","boxShadow","flexDirection","bottom","zIndex","Alert","alerts","idx","variantKey","type","Icon","SnackbarContent","key","id","aria-describedby","action","IconButton","FeedbackContext","createContext","feedbacks","setFeedbacks","pushFeedback","ADD","REMOVE","SET","initState","nextId","reducer","state","toConsumableArray","data","timeout","setTimeout","dispatch","idxToRemove","findIndex","f","slice","Context","_React$useReducer","useReducer","_React$useReducer2","console","log","Provider","newFeedbacks","newFeedback","push","Consumer","initControllerState","localUser","controllerJson","user","JSON","parse","api","protocol","ip","port","getUrl","path","dev","hostname","join","getHeaders","headers","controllerConfig","ECN-Api-Destination","ControllerContext","updateController","lookUpControllerInfo","asyncToGenerator","regenerator_default","mark","_callee","localhost","response","wrap","_context","prev","next","host","split","RegExp","test","fetch","sent","ok","abrupt","json","Error","statusText","stop","_x","apply","this","arguments","updateControllerInfo","_ref2","_callee2","ipInfo","_context2","t0","_x2","token","ERROR","CLEAN_ERROR","UPDATE","SET_TOKEN","newState","authenticate","_ref3","_callee3","_token","_context3","method","Accept","Content-Type","body","stringify","accessToken","_x3","request","_ref4","_callee4","options","t","_args4","_context4","undefined","Authorization","_x4","_ref5","_callee5","newController","_context5","t1","t2","t3","t4","t5","t6","t7","t8","_x5","_callee6","_context6","initNode","newError","ConnectNode","node","setNode","useContext","handleChange","event","defineProperty","createAgent","agent","uuid","getProvisioningKey","linkAgent","ioFogApi","controller-url","provisionAgent","provisioning-key","_x6","connect","iofogUuid","provisioningKey","fogType","Fragment","xs","sm","TextField","fullWidth","textField","helperText","root","flexGrow","height","paper","marginTop","marginBot","right","chip","inputRoot","flexWrap","inputInput","Autocomplete","downshift_esm","itemToString","get","initialSelectedItem","selectedItem","clearSelection","getInputProps","getItemProps","getLabelProps","getMenuProps","highlightedIndex","inputValue","isOpen","openMenu","_getInputProps","onFocus","disabled","placeholder","onBlur","inputProps","objectWithoutProperties","InputProps","ref","others","inputRef","input","renderInput","InputLabelProps","shrink","square","_ref$showEmpty","showEmpty","deburr","trim","toLowerCase","inputLength","count","suggestions","filter","suggestion","keep","maxSuggestions","startsWith","getSuggestions","index","suggestionProps","itemProps","isHighlighted","isSelected","MenuItem","selected","component","renderSuggestion","formControl","rowIcon","newPaper","border","inputWithIcon","MenuProps","PaperProps","ITEM_HEIGHT","initMsvc","flow","catalog","images","volumeMappings","ports","rootHostAccess","_new","initFlow","isActivated","initCatalogItem","fogTypeId","containerImage","registryId","initRoute","from","to","randomString","Math","random","toString","replace","substr","generateRouteSelect","current","list","isNewMsvc","m","AddMicroservice","flows","setFlows","_React$useState3","_React$useState4","setCatalog","config","useRef","ReactJsonRef","main_default","src","onAdd","updated_src","onEdit","onDelete","_React$useState5","_React$useState6","msvc","setMsvc","_React$useState7","_React$useState8","newFlow","setNewFlow","_React$useState9","_React$useState10","newCatalogItem","setNewCatalogItem","_React$useState11","_React$useState12","routes","setRoutes","Promise","all","flowRaw","flowsRes","catalogRaw","catalogRes","catalogItems","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","done","err","return","setter","prevState","handleMsvcChangeArray","objKey","valueDecorator","x","getCatalogImage","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","img","removeFromArray","addMsvc","flowId","catalogItemId","createFlow","createCatalogItem","catalogItem","_catalog","createRoute","_ref6","route","createRoutes","_ref7","_callee7","defaultUuid","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_iterator3","_step3","_context7","finish","createMsvc","_ref8","_callee8","_context8","onSuccess","routeList","microservices","FormControl","required","FormControlLabel","control","Checkbox","checked","v","hostDestination","containerDestination","InputLabel","htmlFor","Select","accessMode","parseInt","external","internal","r","SwapHoriz_default","chips","marginBottom","RemoveMicroservice","msvcsToRemove","setMsvcsToRemove","remove","res","indexOf","msvcsPerUUID","msvcs","reduce","multiple","renderValue","TabContainer","palette","background","SimpleTabs","setValue","Tabs","newValue","child","Tab","avatarList","msvcChipList","flex","paddingRight","msvcChip","& .MuiChip-label","textOverflow","whiteSpace","overflow","jsonDisplay","minHeight","listTitle","link","secondary","&:hover","textDecoration","AgentList","openRemoveAgentConfirm","setOpenRemoveAgentConfirm","openDetailsModal","setOpenDetailsModal","openConnectNodeModal","setOpenConnectNodeModal","openAddMicroserviceModal","setOpenAddMicroserviceModal","openRemoveMicroserviceModal","setOpenRemoveMicroserviceModal","menuAnchorEl","setMenuAnchorEl","msvcsPerAgent","agents","setAgent","setAutozoom","feedbackContext","handleCloseMenu","currentTarget","removeAgent","iofog","subheader","ListSubheader","disableGutters","disableSticky","button","ListItemAvatar","Avatar","--statusColor","daemonStatus","Memory_default","size","--mTop","flowActive","MoreVert_default","Menu","anchorEl","keepMounted","Boolean","mapMarkerTransform","transform","msvcBadge","& .MuiBadge-badge","mapMarker","& .MuiSvgIcon-root","mapWrapper","borderColor","& div","hasValidCoordinates","coordinates","isFinite","Map","DomElementRef","autozoom","google","bounds","maps","LatLngBounds","latitude","longitude","center","zoom","forEach","marker","extend","LatLng","newBounds","ne","getNorthEast","lng","sw","getSouthWest","_fitBounds","fitBounds","setMap","lib_default","bootstrapURLKeys","Badge","badgeContent","invisible","--markerColor","DeveloperBoard_default","SET_AGENT","groupBy","find","updateData","ECNViewer","_useState","_useState2","_useState3","_useState4","setLoading","_useState5","_useState6","setError","_useState7","styles","mapStyle","_useState8","_React$useContext","update","agentsResponse","flowsResponse","microservicesResponse","fogs","call","callback","delay","savedCallback","setInterval","clearInterval","useInterval","centerMap","skeleton","Config","_React$useContext2","setData","save","onSave","handleUserChange","email","onKeyPress","password","wrapper","logo","latNav","avatarContainer","latIcons",".active &","topIcons","nav","& a","& img","footerContainer","justifyItems","footer","Layout","settingsOpen","setSettingsOpen","react_router_dom","logomark","alt","Search_default","NotificationsOutlined_default","HomeOutlined_default","GraphicEqOutlined_default","SettingsOutlined_default","react_router","href","App","CssBaseline","ControllerProvider_Context","match","ReactDOM","render","src_App","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.3e378228.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logomark.380acb6b.svg\";","import React from 'react'\nimport Skeleton from 'react-loading-skeleton'\n\nimport { Typography, List, ListItem, ListItemIcon, ListItemText, Chip, Tooltip, Input } from '@material-ui/core'\n\nimport LocationCityIcon from '@material-ui/icons/LocationCity'\nimport GPSFixedIcon from '@material-ui/icons/GpsFixed'\nimport IPIcon from '@material-ui/icons/WifiTethering'\n\nimport { makeStyles, useTheme } from '@material-ui/styles'\n\nconst CONTROLLER_NAME_KEY = 'ControllerName'\nconst DEFAULT_CONTROLLER_NAME = 'Controller'\n\nconst useStyles = makeStyles(theme => ({\n  controllerInfo: {\n    paddingTop: '0px',\n    '& .paper': {\n      padding: '5px'\n    }\n  },\n  controllerName: {\n    fontSize: '1.5rem',\n    fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\n    fontWeight: 400,\n    lineHeight: 1.33,\n    letterSpacing: '0em',\n    width: '100%',\n    '&::before': {\n      borderBottom: 'none !important'\n    }\n  },\n  warningChip: {\n    backgroundColor: `var(--color, ${theme.colors.danger})`,\n    color: 'white'\n  },\n  controllerTitle: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'baseline',\n    textEmphasis: 'bold'\n  }\n}))\n\nexport default function ControllerInfo (props) {\n  const classes = useStyles()\n  const theme = useTheme()\n  const { controller, loading, error } = props\n  const { city, country, lat, lon, query } = controller.location || {}\n\n  const controllerError = error || controller.error || null\n  const [ controllerName, setControllerName ] = React.useState(() => {\n    return window.localStorage.getItem(CONTROLLER_NAME_KEY) || DEFAULT_CONTROLLER_NAME \n  })\n\n  const updateControllerName = (e) => {\n    const name = e.target.value\n    window.localStorage.setItem(CONTROLLER_NAME_KEY, name)\n    setControllerName(name)\n  }\n\n  React.useEffect(() => {\n    if (controllerName === DEFAULT_CONTROLLER_NAME) { \n      window.document.title = 'ECN Viewer'\n      return\n    }\n    window.document.title = controllerName\n  }, [controllerName])\n\n  return (\n    <div className={classes.controllerInfo}>\n      <div className={classes.controllerTitle}>\n        <Typography style={{width: '100%'}} variant='h5'>\n          <Input className={classes.controllerName} value={controllerName} onChange={updateControllerName} />\n        </Typography>\n        {controllerError &&\n          <Tooltip title={controllerError.message} aria-label='Error'>\n            <Chip label={'The controller is not reachable'} style={{ '--color': theme.colors.gold }} className={classes.warningChip} />\n          </Tooltip>\n        }\n      </div>\n      <List>\n        <ListItem>\n          <ListItemIcon><LocationCityIcon /></ListItemIcon>\n          { loading ? <ListItemText><Skeleton /></ListItemText> : <ListItemText primary={`${city}, ${country}`} /> }\n        </ListItem>\n        <ListItem style={{ cursor: 'pointer' }} onClick={() => props.selectController()} >\n          <ListItemIcon><GPSFixedIcon /></ListItemIcon>\n          { loading ? <ListItemText><Skeleton /></ListItemText> : <ListItemText primary={`${lat}, ${lon}`} /> }\n        </ListItem>\n        <ListItem>\n          <ListItemIcon><IPIcon /></ListItemIcon>\n          { loading ? <ListItemText><Skeleton /></ListItemText> : <ListItemText primary={query} /> }\n        </ListItem>\n      </List>\n    </div>\n  )\n}\n","import React from 'react'\n\nimport { Typography, Paper } from '@material-ui/core'\n\nimport { makeStyles } from '@material-ui/styles'\nconst useStyles = makeStyles({\n  summary: {\n    display: 'grid',\n    gridTemplateColumns: 'repeat(3, 1fr)',\n    gridColumnGap: '15px',\n    textAlign: 'center'\n  }\n})\n\nexport default function ActiveResources (props) {\n  const classes = useStyles()\n  const { activeFlows, activeAgents, activeMsvcs, loading } = props\n  return (\n    <div>\n      <Typography variant='h5'>Active resources</Typography>\n      <br />\n      <div className={classes.summary}>\n        <Paper>\n          <Typography variant='h3'>{loading ? 0 : activeFlows.length}</Typography>\n          <Typography variant='subtitle1'>Flows</Typography>\n        </Paper>\n        <Paper>\n          <Typography variant='h3'>{loading ? 0 : activeAgents.length}</Typography>\n          <Typography variant='subtitle1'>Agents</Typography>\n        </Paper>\n        <Paper>\n          <Typography variant='h3'>{loading ? 0 : activeMsvcs.length}</Typography>\n          <Typography variant='subtitle1'>Microservices</Typography>\n        </Paper>\n      </div>\n    </div>\n  )\n}\n","import React from 'react'\nimport { ThemeProvider } from '@material-ui/styles'\nimport { createMuiTheme } from '@material-ui/core/styles'\n\nimport customTheme from './theme.json'\n\nconst colors = {\n  phosphorus: '#FF585D',\n  cobalt: '#5064EC',\n  gold: '#F5A623',\n  chromium: '#00C0A9',\n  argon: '#7A3BFF',\n  carbon: '#002E43',\n  lead: '#57687D',\n  aluminium: '#ACB5C6',\n  silver: '#FAFCFF',\n  white: '#FFFFFF'\n}\n\nexport const theme = createMuiTheme({\n  ...customTheme,\n  colors: {\n    ...colors,\n    success: colors.chromium,\n    error: colors.phosphorus,\n    danger: colors.gold\n  }\n})\n\nexport default function Theming (props) {\n  return (\n    <ThemeProvider theme={theme}>\n      {props.children}\n    </ThemeProvider>\n  )\n}\n","import { theme } from '../Theme/ThemeProvider'\n\nexport const statusColor = {\n  'RUNNING': theme.colors.chromium,\n  'UNKNOWN': theme.colors.aluminium,\n  'OFFLINE': theme.colors.phosphorus\n}\n\nexport const msvcStatusColor = {\n  'RUNNING': theme.colors.cobalt,\n  'UNKNOWN': theme.colors.aluminium,\n  'OFFLINE': theme.colors.aluminium\n}\n","import React from 'react'\nimport { Modal, Paper, Typography, Button } from '@material-ui/core'\nimport CloseIcon from '@material-ui/icons/Close'\n\nimport { makeStyles } from '@material-ui/styles'\nconst useStyles = makeStyles(theme => ({\n  modalTitle: {\n    backgroundColor: theme.colors.carbon,\n    borderRadius: '4px 4px 0 0',\n    color: 'white',\n    padding: '5px',\n    display: 'flex',\n    justifyContent: 'space-between'\n  },\n  modal: {\n    width: '60%',\n    top: '15%',\n    left: '20%',\n    position: 'absolute',\n    borderRadius: '4px'\n  },\n  modalContent: {\n    maxHeight: '600px',\n    overflowY: 'scroll',\n    padding: '15px'\n  },\n  modalActions: {\n    display: 'flex',\n    backgroundColor: theme.colors.silver,\n    alignItems: 'flex-end'\n  },\n  modalAction: {\n    marginLeft: '5px'\n  }\n}))\n\nexport default function _Modal (props) {\n  const classes = useStyles()\n  const { title, open, onClose } = props\n  return (\n    <Modal\n      aria-labelledby={`${title} modal`}\n      {...{\n        open,\n        onClose\n      }}\n    >\n      <Paper className={classes.modal}>\n        <div className={classes.modalTitle}>\n          <Typography variant='h5'>{title}</Typography>\n          <CloseIcon style={{ cursor: 'pointer' }} onClick={onClose} />\n        </div>\n        <div className={classes.modalContent}>\n          {props.children}\n        </div>\n        {props.actions && !!props.actions.length && <div className={classes.modalActions}>\n          {props.actions.map(a => <Button className={`${a.className} ${classes.modalAction}`} variant={a.variant} onClick={a.onClick}>{a.text}</Button>)}\n        </div>}\n      </Paper>\n    </Modal>\n  )\n}\n","import React from 'react'\nimport { Button, Divider, Grid } from '@material-ui/core'\n\nimport Modal from './Modal'\n\nimport { makeStyles } from '@material-ui/styles'\nconst useStyles = makeStyles(theme => ({\n  divider: {\n    margin: '5px'\n  }\n}))\n\nexport default function Confirm (props) {\n  const classes = useStyles()\n  const { open, onClose, title, onConfirm } = props\n  return (\n    <Modal\n      {...{\n        title,\n        open,\n        onClose\n      }}\n    >\n      {props.children}\n      <Divider className={classes.divider} />\n      <Grid container justify='flex-end' spacing={2}>\n        <Grid item>\n          <Button onClick={onClose}>\n            Cancel\n          </Button>\n        </Grid>\n        <Grid item>\n          <Button variant='contained' color='primary' onClick={onConfirm}>\n            Confirm\n          </Button>\n        </Grid>\n      </Grid>\n\n    </Modal>\n  )\n}\n","import React from 'react'\nimport IconButton from '@material-ui/core/IconButton'\nimport WarningIcon from '@material-ui/icons/Warning'\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle'\nimport ErrorIcon from '@material-ui/icons/Error'\nimport InfoIcon from '@material-ui/icons/Info'\nimport CloseIcon from '@material-ui/icons/Close'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { SnackbarContent } from '@material-ui/core'\n\nconst variantIcon = {\n  success: CheckCircleIcon,\n  warning: WarningIcon,\n  error: ErrorIcon,\n  info: InfoIcon\n}\n\nconst useStyles = makeStyles(theme => ({\n  success: {\n    backgroundColor: theme.colors.success\n  },\n  error: {\n    backgroundColor: theme.colors.error\n  },\n  info: {\n    backgroundColor: theme.colors.cobalt\n  },\n  warning: {\n    backgroundColor: theme.colors.danger\n  },\n  icon: {\n    fontSize: 20\n  },\n  iconVariant: {\n    opacity: 0.9,\n    marginRight: theme.spacing(1)\n  },\n  message: {\n    display: 'flex',\n    alignItems: 'center'\n  },\n  alert: {\n    margin: '5px',\n    borderRadius: '4px',\n    boxShadow: `0 4px 6px 0 ${theme.colors.carbon}`\n  },\n  container: {\n    display: 'flex',\n    flexDirection: 'column',\n    position: 'fixed',\n    bottom: '10px',\n    left: '10px',\n    zIndex: '9999'\n  }\n}))\n\nexport default function Alert (props) {\n  const classes = useStyles()\n  const { open, alerts } = props\n\n  return open ? (\n    <div className={classes.container}>\n      {alerts.map((a, idx) => {\n        const variantKey = a.type || 'info'\n        const Icon = variantIcon[variantKey]\n        return <SnackbarContent\n          key={a.key || a.id || idx}\n          className={`${classes[variantKey]} ${classes.alert} ${a.className}`}\n          aria-describedby='client-snackbar'\n          message={\n            <span id='client-snackbar' className={classes.message}>\n              <Icon className={`${classes.icon} ${classes.iconVariant}`} />\n              {a.message}\n            </span>\n          }\n          action={[\n            <IconButton key='close' aria-label='Close' color='inherit' onClick={a.onClose}>\n              <CloseIcon className={classes.icon} />\n            </IconButton>\n          ]}\n        />\n      })}\n    </div>\n  ) : null\n}\n","import React from 'react'\nimport { findIndex } from 'lodash'\nimport Alert from './Alert'\n\nexport const FeedbackContext = React.createContext({\n  feedbacks: [],\n  setFeedbacks: () => {},\n  pushFeedback: () => {}\n})\n\nconst AUTO_HIDE = 6000\n\nconst actions = {\n  ADD: 'add',\n  REMOVE: 'remove',\n  SET: 'set'\n}\n\nconst initState = {\n  feedbacks: [],\n  nextId: 0\n}\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case actions.ADD:\n      return {\n        feedbacks: [...state.feedbacks,\n          {\n            ...action.data,\n            timeout: setTimeout(() => {\n              action.dispatch({ type: actions.REMOVE, data: { id: state.nextId } })\n            }, AUTO_HIDE),\n            id: state.nextId\n          }],\n        nextId: state.nextId + 1\n      }\n    case actions.REMOVE:\n      const idxToRemove = findIndex(state.feedbacks, f => f.id === action.data.id)\n      if (idxToRemove === -1) return state\n      return {\n        ...state,\n        feedbacks: [...state.feedbacks.slice(0, idxToRemove), ...state.feedbacks.slice(idxToRemove + 1)]\n      }\n    case actions.SET:\n      return {\n        ...state,\n        feedbacks: action.data\n      }\n    default:\n      return state\n  }\n}\n\nexport default function Context (props) {\n  const [state, dispatch] = React.useReducer(reducer, initState)\n  const setFeedbacks = (newFeedbacks) => {\n    console.log(' ---> SetFeedbacks ')\n    dispatch({ type: actions.SET, data: newFeedbacks })\n  }\n  const pushFeedback = (newFeedback) => {\n    console.log(' ---> pushFeedback ')\n    dispatch({ type: actions.ADD, data: newFeedback, dispatch })\n    // Update current feedback array (same array will be used if multiple calls to pushFeedback in the same render loop)\n    state.feedbacks.push(newFeedback)\n  }\n\n  console.log('======> Updating feedback context')\n\n  return <FeedbackContext.Provider value={{ feedbacks: state.feedbacks, setFeedbacks, pushFeedback }}>\n    {props.children}\n    <FeedbackContext.Consumer>\n      {({ feedbacks, setFeedbacks }) =>\n        <Alert\n          open={!!feedbacks.length}\n          alerts={feedbacks.map((f, idx) => ({\n            ...f,\n            onClose: () => dispatch({ type: actions.REMOVE, data: f })\n          }))}\n        />\n      }\n    </FeedbackContext.Consumer>\n  </FeedbackContext.Provider>\n}\n","import React, { useEffect } from 'react'\n\nimport controllerJson from './controller.json'\n\nconst initControllerState = (() => {\n  const localUser = window.localStorage.getItem('iofogUser')\n  if (localUser) {\n    controllerJson.user = JSON.parse(localUser)\n  }\n  return {\n    ...controllerJson,\n    api: `${window.location.protocol}//${controllerJson.ip}:${controllerJson.port || 80}/`,\n    location: {\n      lat: 'Unknown',\n      lon: 'Unknown',\n      query: controllerJson.ip\n    }\n  }\n})()\n\nconst IPLookUp = 'http://ip-api.com/json/'\n\n// If dev mode, use proxy\n// Otherwise assume you are running on the Controller\nconst getUrl = (path) => controllerJson.dev ? `/api/controllerApi${path}` : `${window.location.protocol}//${[window.location.hostname, controllerJson.port].join(':')}${path}`\nconst getHeaders = (headers, controllerConfig) => controllerJson.dev\n  ? ({\n    ...headers,\n    'ECN-Api-Destination': controllerConfig.api\n  }) : headers\n\nexport const ControllerContext = React.createContext({\n  controller: {},\n  updateController: () => {}\n})\n\nconst lookUpControllerInfo = async (controllerConfig) => {\n  if (!controllerConfig.ip) {\n    controllerConfig.ip = window.location.host.split(':')[0] // Get only ip, not port\n  }\n  const localhost = new RegExp('(0\\.0\\.0\\.0|localhost|127\\.0\\.0\\.1|192\\.168\\.)') // eslint-disable-line no-useless-escape\n  const ip = localhost.test(controllerConfig.ip) ? '8.8.8.8' : controllerConfig.ip\n  const response = await window.fetch(IPLookUp + ip)\n  if (response.ok) {\n    return response.json()\n  } else {\n    throw new Error(response.statusText)\n  }\n}\n\nconst updateControllerInfo = async (controllerConfig) => {\n  let ipInfo = {}\n  try {\n    ipInfo = await lookUpControllerInfo(controllerConfig)\n  } catch (e) {\n    ipInfo = {\n      lat: 'Unknown',\n      lon: 'Unknown',\n      query: controllerConfig.ip\n    }\n  }\n\n  return {\n    ...controllerConfig,\n    location: ipInfo\n  }\n}\n\nconst initState = {\n  controller: initControllerState,\n  token: null\n}\n\nconst actions = {\n  ERROR: 'Error',\n  CLEAN_ERROR: 'Clean error',\n  UPDATE: 'Update',\n  SET_TOKEN: 'Set token'\n}\n\nconst reducer = (state, action) => {\n  console.log({ state, action })\n  const newState = (() => {\n    switch (action.type) {\n      case actions.ERROR:\n        return {\n          ...state,\n          controller: {\n            ...state.controller,\n            error: action.data\n          }\n        }\n      case actions.CLEAN_ERROR:\n        return {\n          ...state,\n          controller: {\n            ...state.controller,\n            error: null\n          }\n        }\n      case actions.UPDATE:\n        return {\n          ...state,\n          controller: {\n            ...state.controller,\n            ...action.data\n          }\n        }\n      case actions.SET_TOKEN:\n        return {\n          ...state,\n          token: action.data,\n          controller: {\n            ...state.controller,\n            error: null\n          }\n        }\n      default:\n        return state\n    }\n  })()\n  newState.controller.dev = controllerJson.dev\n  return newState\n}\n\nexport default function Context (props) {\n  const [state, dispatch] = React.useReducer(reducer, initState)\n  const { token, controller } = state\n\n  const authenticate = async (controllerConfig) => {\n    const response = await window.fetch(getUrl('/api/v3/user/login'), {\n      method: 'POST',\n      headers: getHeaders({\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      }, controllerConfig),\n      body: JSON.stringify(controllerConfig.user)\n    })\n    if (response.ok) {\n      const token = (await response.json()).accessToken\n      dispatch({ type: actions.SET_TOKEN, data: token })\n      return token\n    } else {\n      dispatch({ type: actions.SET_TOKEN, data: null })\n      throw new Error(response.statusText)\n    }\n  }\n\n  // Wrapper around window.fetch to add proxy and authorization headers\n  const request = async (path, options = {}) => {\n    try {\n      let t = token\n      if (!t) {\n        t = await authenticate(controller)\n      }\n      const response = await window.fetch(getUrl(path), {\n        ...options,\n        headers: getHeaders({\n          ...options.headers,\n          'Authorization': t\n        }, controller)\n      })\n      if (state.controller.error) {\n        dispatch({ type: actions.CLEAN_ERROR })\n      }\n      return response\n    } catch (err) {\n      dispatch({ type: actions.ERROR, data: err })\n      return ({\n        ok: false,\n        statusText: err.message || 'Could not reach controller'\n      })\n    }\n  }\n\n  const updateController = async (newController) => {\n    if (controllerJson.dev) { newController.api = `http://${newController.ip}:${newController.port || 80}/` }\n    window.localStorage.setItem('iofogUser', JSON.stringify(newController.user))\n    try {\n      await authenticate(newController)\n    } catch (e) {\n      dispatch({ type: actions.ERROR, data: e })\n      dispatch({ type: actions.UPDATE, data: await updateControllerInfo(newController) })\n      throw e\n    }\n    dispatch({ type: actions.UPDATE, data: await updateControllerInfo(newController) })\n  }\n\n  useEffect(() => (async () => {\n    try {\n      await authenticate(initState.controller)\n    } catch (e) {\n      dispatch({ type: actions.ERROR, data: e })\n    }\n    dispatch({ type: actions.UPDATE, data: await updateControllerInfo(initState.controller) })\n  })(), [])\n\n  return <ControllerContext.Provider value={{ controller, updateController, request }}>\n    {props.children}\n  </ControllerContext.Provider>\n}\n","import React from 'react'\n\nimport { Divider, TextField, Grid, Button } from '@material-ui/core'\nimport { FeedbackContext } from '../../Utils/FeedbackContext'\n\nimport { makeStyles } from '@material-ui/styles'\nimport { ControllerContext } from '../../ControllerProvider'\nconst useStyles = makeStyles({\n  divider: {\n    margin: '5px'\n  }\n})\n\nconst initNode = {\n  name: '',\n  ip: '',\n  key: '',\n  port: 54321\n}\n\nconst newError = (message) => ({ message })\n\nexport default function ConnectNode (props) {\n  const classes = useStyles()\n  const [node, setNode] = React.useState({ ...initNode })\n  const { pushFeedback } = React.useContext(FeedbackContext)\n  const { request } = React.useContext(ControllerContext)\n\n  const handleChange = key => (event) => {\n    setNode({ ...node, [key]: event.target.value })\n  }\n\n  const createAgent = async (agent) => {\n    const response = await request('/api/v3/iofog', {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(agent)\n    })\n    if (response.ok) {\n      pushFeedback({ message: 'ioFog created!', type: 'success' })\n      const a = await response.json()\n      return a.uuid\n    }\n    throw (newError(`Failed to create iofog: ${response.statusText}`))\n  }\n\n  const getProvisioningKey = async (uuid) => {\n    const response = await request(`/api/v3/iofog/${uuid}/provisioning-key`)\n    if (response.ok) {\n      const a = await response.json()\n      return a.key\n    }\n    throw (newError(`Failed to retrieve provisioning key: ${response.statusText}`))\n  }\n\n  const linkAgent = async (agent, controller) => {\n    const response = await window.fetch(`api/agentApi/v2/config`, {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': agent.key,\n        'ioFogApi': `http://${agent.ip}:${agent.port}`\n      },\n      body: JSON.stringify({ 'controller-url': `http://${controller.ip}:${controller.port}/api/v3/` })\n    })\n    if (response.ok) {\n      pushFeedback({ message: 'Agent linked!', type: 'success' })\n      return true\n    }\n    throw (newError(`Failed to link agent: ${response.statusText}`))\n  }\n\n  const provisionAgent = async (agent, key) => {\n    const response = await window.fetch(`api/agentApi/v2/provision`, {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': agent.key,\n        'ioFogApi': `http://${agent.ip}:${agent.port}`\n      },\n      body: JSON.stringify({ 'provisioning-key': key })\n    })\n    if (response.ok) {\n      pushFeedback({ message: 'Agent provisioned!', type: 'success' })\n      return true\n    }\n    throw (newError(`Failed to provision agent: ${response.statusText}`))\n  }\n\n  const connect = async () => {\n    try {\n      const iofogUuid = await createAgent({ name: node.name, fogType: 0 })\n      const provisioningKey = await getProvisioningKey(iofogUuid)\n      await linkAgent(node, props.controller)\n      await provisionAgent(node, provisioningKey)\n      pushFeedback({ message: 'Agent connected!', type: 'success' })\n    } catch (e) {\n      pushFeedback({ message: e.message, type: 'error', uuid: 'error' })\n    }\n  }\n\n  return (\n    <React.Fragment>\n      <Grid container spacing={2}>\n        <Grid item xs={12} sm={6}>\n          <TextField\n            id='name'\n            label='Name'\n            onChange={handleChange('name')}\n            value={node.name}\n            fullWidth\n            className={classes.textField}\n            margin='normal'\n          />\n        </Grid>\n        <Grid item xs={6} sm={3}>\n          <TextField\n            id='ip'\n            label='IP'\n            onChange={handleChange('ip')}\n            value={node.ip}\n            fullWidth\n            className={classes.textField}\n            margin='normal'\n          />\n        </Grid>\n        <Grid item xs={6} sm={3}>\n          <TextField\n            id='port'\n            label='Port'\n            onChange={handleChange('port')}\n            value={node.port}\n            fullWidth\n            type='number'\n            className={classes.textField}\n            margin='normal'\n          />\n        </Grid>\n        <Grid item xs={12}>\n          <TextField\n            id='key'\n            label='Authorization key'\n            onChange={handleChange('key')}\n            value={node.key}\n            fullWidth\n            className={classes.textField}\n            margin='normal'\n            helperText='Authorization key can be found in /etc/iofog-agent/local-api file'\n          />\n        </Grid>\n      </Grid>\n      <Divider className={classes.divider} />\n      <Grid container justify='flex-end'>\n        <Grid item>\n          <Button onClick={connect}>\n            Connect\n          </Button>\n        </Grid>\n      </Grid>\n    </React.Fragment>\n  )\n}\n","import React from 'react'\nimport Downshift from 'downshift'\nimport deburr from 'lodash/deburr'\nimport get from 'lodash/get'\nimport { MenuItem, Paper, TextField } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1,\n    height: 250\n  },\n  container: {\n    flexGrow: 1,\n    position: 'relative'\n  },\n  paper: {\n    position: 'absolute',\n    zIndex: 1,\n    marginTop: theme.spacing(1),\n    marginBot: theme.spacing(2),\n    left: 0,\n    right: 0,\n    maxHeight: '250px',\n    overflowY: 'scroll'\n  },\n  chip: {\n    margin: theme.spacing(0.5, 0.25)\n  },\n  inputRoot: {\n    flexWrap: 'wrap'\n  },\n  inputInput: {\n    width: 'auto',\n    flexGrow: 1\n  },\n  divider: {\n    height: theme.spacing(2)\n  }\n}))\n\nfunction renderInput (inputProps) {\n  const { InputProps, classes, ref, ...others } = inputProps\n  return (\n    <TextField\n      InputProps={{\n        inputRef: ref,\n        classes: {\n          root: classes.inputRoot,\n          input: classes.inputInput\n        },\n        ...InputProps\n      }}\n      {...others}\n    />\n  )\n}\n\nfunction renderSuggestion (suggestionProps) {\n  const { suggestion, index, itemProps, highlightedIndex, selectedItem } = suggestionProps\n  const isHighlighted = highlightedIndex === index\n  const isSelected = (selectedItem || {}).label === suggestion.label\n\n  return (\n    <MenuItem\n      {...itemProps}\n      key={suggestion.label}\n      selected={isHighlighted}\n      component='div'\n      style={{\n        fontWeight: isSelected ? 500 : 400\n      }}\n    >\n      {suggestion.label}\n    </MenuItem>\n  )\n}\n\nexport default function Autocomplete (props) {\n  const classes = useStyles()\n\n  const getSuggestions = (value, { showEmpty = false } = {}) => {\n    const inputValue = deburr(value.trim()).toLowerCase()\n    const inputLength = inputValue.length\n    let count = 0\n\n    return inputLength === 0 && !showEmpty\n      ? []\n      : props.suggestions.filter(suggestion => {\n        const keep = count < props.maxSuggestions && suggestion.label.toLowerCase().startsWith(inputValue.toLowerCase())\n        if (keep) {\n          count += 1\n        }\n        return keep\n      })\n  }\n\n  return (<Downshift\n    itemToString={item => get(item, 'label', '')}\n    onChange={props.onChange}\n    initialSelectedItem={props.initialSelectedItem}\n    {...(props.selectedItem ? { selectedItem: props.selectedItem } : {})}\n    id='downshift-options'>\n    {({\n      clearSelection,\n      getInputProps,\n      getItemProps,\n      getLabelProps,\n      getMenuProps,\n      highlightedIndex,\n      inputValue,\n      isOpen,\n      openMenu,\n      selectedItem\n    }) => {\n      const { onBlur, onChange, onFocus, ...inputProps } = getInputProps({\n        onChange: event => {\n          if (event.target.value === '') {\n            clearSelection()\n          }\n        },\n        onFocus: openMenu,\n        disabled: props.disabled || false,\n        placeholder: props.placeholder || ''\n      })\n\n      return (\n        <div className={classes.container}>\n          {renderInput({\n            fullWidth: true,\n            classes,\n            label: props.label,\n            InputLabelProps: getLabelProps({ shrink: true }),\n            InputProps: { onBlur, onChange, onFocus },\n            inputProps\n          })}\n\n          <div {...getMenuProps()}>\n            {isOpen ? (\n              <Paper className={classes.paper} square>\n                {getSuggestions(inputValue, { showEmpty: true }).map((suggestion, index) =>\n                  renderSuggestion({\n                    suggestion,\n                    index,\n                    itemProps: getItemProps({ item: suggestion }),\n                    highlightedIndex,\n                    selectedItem\n                  })\n                )}\n              </Paper>\n            ) : null}\n          </div>\n        </div>\n      )\n    }}\n  </Downshift>\n  )\n}\n","import React from 'react'\nimport ReactJson from 'react-json-view'\nimport get from 'lodash/get'\n\nimport { Grid, Paper, Typography, TextField, Divider, Select, Input, Button, InputLabel, FormControl, FormControlLabel, Checkbox, MenuItem } from '@material-ui/core'\nimport CloseIcon from '@material-ui/icons/Close'\nimport SwapIcon from '@material-ui/icons/SwapHoriz'\n\nimport Autocomplete from '../../Utils/Autocomplete'\n\nimport { makeStyles } from '@material-ui/styles'\nimport { FeedbackContext } from '../../Utils/FeedbackContext'\nimport { ControllerContext } from '../../ControllerProvider'\n\nconst useStyles = makeStyles({\n  divider: {\n    margin: '5px'\n  },\n  formControl: {\n    width: '100%'\n  },\n  rowIcon: {\n    display: 'flex',\n    justifyContent: 'space-around'\n  },\n  newPaper: {\n    border: '1px solid hsla(0, 0%, 0%, 0.2)',\n    boxShadow: '0 4px 6px 0 hsla(0,0%,0%,0.2)',\n    borderRadius: '4px',\n    padding: '10px',\n    marginTop: '10px'\n  },\n  inputWithIcon: { display: 'flex', alignItems: 'baseline', justifyContent: 'space-between' }\n})\n\nconst ITEM_HEIGHT = 48\nconst ITEM_PADDING_TOP = 8\nconst MenuProps = {\n  PaperProps: {\n    style: {\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\n      width: 250\n    }\n  }\n}\n\nconst initMsvc = {\n  flow: {},\n  name: '',\n  catalog: {\n    images: []\n  },\n  volumeMappings: [],\n  ports: [],\n  rootHostAccess: false,\n  _new: true\n}\n\nconst initFlow = {\n  name: '',\n  isActivated: true\n}\n\nconst initCatalogItem = (fogTypeId) => ({\n  name: '',\n  images: [{\n    containerImage: '',\n    fogTypeId\n  }],\n  registryId: 1\n})\n\nconst initRoute = (from) => ({\n  from,\n  to: {}\n})\n\nconst randomString = () => Math.random().toString(36).replace(/[^a-z]+/g, '').substr(0, 5)\n\nconst generateRouteSelect = (current, list, label, onChange) => {\n  const isNewMsvc = get(current, '_new', false)\n  return (<Autocomplete\n    label={label}\n    placeholder='Select a microservice'\n    onChange={onChange}\n    disabled={isNewMsvc}\n    selectedItem={isNewMsvc ? list[list.length - 1] : current}\n    maxSuggestions={20}\n    suggestions={list.filter(e => !isNewMsvc ? !!e.uuid : true).map(m => ({\n      ...m,\n      label: m.name\n    }))}\n  />)\n}\n\nexport default function AddMicroservice (props) {\n  const classes = useStyles()\n  const [ flows, setFlows ] = React.useState([])\n  const [ catalog, setCatalog ] = React.useState([])\n  // Due to polling, the component is re-rendering every 3 sec.\n  // To avoid JSON edit popups to be closed every 3 sec,\n  // we need to keep the config and the JSX ReactJson component as ref\n  const config = React.useRef({})\n  const ReactJsonRef = React.useRef(\n    <ReactJson src={config.current} name={false} onAdd={(e) => { config.current = e.updated_src }} onEdit={(e) => { config.current = e.updated_src }} onDelete={(e) => { config.current = e.updated_src }} />\n  )\n  const [ msvc, setMsvc ] = React.useState(initMsvc)\n  const [ newFlow, setNewFlow ] = React.useState(initFlow)\n  const [ newCatalogItem, setNewCatalogItem ] = React.useState(() => initCatalogItem(get(props, 'target.fogTypeId', 1)))\n  const [ routes, setRoutes ] = React.useState([])\n\n  const agent = props.target\n  const { pushFeedback } = React.useContext(FeedbackContext)\n  const { request } = React.useContext(ControllerContext)\n\n  React.useEffect(() => {\n    Promise.all([(async () => {\n      const flowRaw = await request('/api/v3/flow')\n      if (flowRaw.ok) {\n        const flowsRes = await flowRaw.json()\n        setFlows(flowsRes.flows)\n      }\n    })(), (async () => {\n      const catalogRaw = await request('/api/v3/catalog/microservices')\n      if (catalogRaw.ok) {\n        const catalogRes = await catalogRaw.json()\n        setCatalog(catalogRes.catalogItems.filter(item => {\n          for (const img of item.images) {\n            if (img.fogTypeId === agent.fogTypeId) { return true }\n          }\n          return false\n        })) // TODO: filter per userId\n      }\n    })()])\n  }, [agent.fogTypeId, request])\n\n  const handleChange = (key, setter, prevState) => e => setter({ ...prevState, [key]: e.target.value })\n  const handleMsvcChangeArray = (key, objKey, idx, valueDecorator = x => x) => e => setMsvc({\n    ...msvc,\n    [key]: [\n      ...msvc[key].slice(0, idx),\n      {\n        ...msvc[key][idx],\n        [objKey]: valueDecorator(e.target.value)\n      },\n      ...msvc[key].slice(idx + 1)\n    ]\n  })\n  const getCatalogImage = item => {\n    if (!get(item, 'id', null)) { return 'Select an image' }\n    for (const img of item.images) {\n      if (img.fogTypeId === agent.fogTypeId) { return img.containerImage }\n    }\n    return 'Image not found'\n  }\n\n  const addVolume = () => setMsvc({\n    ...msvc,\n    volumeMappings: [\n      ...msvc.volumeMappings,\n      {\n        hostDestination: '',\n        containerDestination: '',\n        accessMode: 'z'\n      }\n    ]\n  })\n\n  const addPort = () => setMsvc({\n    ...msvc,\n    ports: [\n      ...msvc.ports,\n      {\n        internal: '',\n        external: ''\n      }\n    ]\n  })\n\n  const removeFromArray = (key, idx) => setMsvc({\n    ...msvc,\n    [key]: [...msvc[key].slice(0, idx), ...msvc[key].slice(idx + 1)]\n  })\n\n  const addMsvc = async () => {\n    try {\n      const { name, ports, volumeMappings, rootHostAccess } = msvc\n      const response = await request('/api/v3/microservices', {\n        method: 'POST',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          config: JSON.stringify(config.current),\n          name,\n          ports,\n          volumeMappings,\n          rootHostAccess,\n          flowId: msvc.flow.id,\n          iofogUuid: agent.uuid,\n          catalogItemId: msvc.catalog.id\n        })\n      })\n      if (response.ok) {\n        pushFeedback({ message: 'Microservice added!', type: 'success' })\n        const m = await response.json()\n        setMsvc(initMsvc)\n        return m.uuid\n      } else {\n        pushFeedback({ message: response.statusText, type: 'error' })\n      }\n    } catch (e) {\n      pushFeedback({ message: e.message })\n    }\n  }\n\n  const createFlow = async () => {\n    try {\n      const { name } = newFlow\n      const response = await request('/api/v3/flow', {\n        method: 'POST',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(newFlow)\n      })\n      if (response.ok) {\n        pushFeedback({ message: 'Flow created!', type: 'success' })\n        setNewFlow(initFlow)\n        const flow = { ...await response.json(), name }\n        setMsvc({ ...msvc, flow })\n        msvc.flow = flow\n        return true\n      } else {\n        pushFeedback({ message: response.statusText, type: 'error' })\n        return false\n      }\n    } catch (e) {\n      pushFeedback({ message: e.message })\n      return false\n    }\n  }\n\n  const createCatalogItem = async () => {\n    try {\n      const catalogItem = {\n        ...newCatalogItem,\n        name: randomString()\n      }\n      const response = await request('/api/v3/catalog/microservices', {\n        method: 'POST',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(catalogItem)\n      })\n      if (response.ok) {\n        pushFeedback({ message: 'Image added to catalog!', type: 'success' })\n        setNewCatalogItem(initCatalogItem(agent.fogTypeId))\n        const catalog = { ...await response.json(), ...catalogItem }\n        setMsvc({ ...msvc, catalog })\n        msvc.catalog = catalog\n        return true\n      } else {\n        pushFeedback({ message: response.statusText, type: 'error' })\n        return false\n      }\n    } catch (e) {\n      pushFeedback({ message: e.message })\n      return false\n    }\n  }\n\n  const createRoute = async (route) => {\n    try {\n      const from = get(route, 'from.uuid')\n      const to = get(route, 'to.uuid')\n      const response = await request(`/api/v3//microservices/${from}/routes/${to}`, {\n        method: 'POST',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: ''\n      })\n      if (response.ok) {\n        pushFeedback({ message: `Route from ${route.from.name} to ${route.to.name} created !`, type: 'success' })\n        return true\n      } else {\n        pushFeedback({ message: response.statusText, type: 'error' })\n        return false\n      }\n    } catch (e) {\n      pushFeedback({ message: e.message })\n      return false\n    }\n  }\n\n  const createRoutes = async (defaultUuid) => {\n    for (const route of routes) {\n      if (!route.from.uuid) {\n        route.from.uuid = defaultUuid\n      }\n      if (!route.to.uuid) {\n        route.to.uuid = defaultUuid\n      }\n      await createRoute(route)\n    }\n  }\n\n  const createMsvc = async () => {\n    let success = true\n    try {\n      if (msvc.flow.id === -1) {\n        success = await createFlow()\n      }\n      if (success && msvc.catalog.id === -1) {\n        success = await createCatalogItem()\n      }\n      if (success) {\n        const uuid = await addMsvc()\n        await createRoutes(uuid)\n        props.onSuccess()\n      }\n    } catch (e) {\n\n    }\n  }\n\n  const routeList = (props.microservices || [])\n    .map(m => ({\n      ...m,\n      label: m.name\n    }))\n    .concat([{\n      ...msvc,\n      label: msvc.name ? msvc.name : '<New microservice>'\n    }])\n\n  return (\n    <React.Fragment>\n      <Grid container spacing={2}>\n        <Grid item xs={12} sm={6}>\n          <FormControl className={classes.formControl}>\n            <Autocomplete\n              label='Flow'\n              placeholder='Select a flow'\n              onChange={(selected, state) => {\n                handleChange('flow', setMsvc, msvc)({ target: { value: selected || {} } })\n              }}\n              maxSuggestions={20}\n              suggestions={flows.map(f => ({\n                ...f,\n                label: f.name\n              })).concat([{\n                id: -1,\n                label: '+ Add a flow'\n              }])}\n            />\n          </FormControl>\n          {msvc.flow.id === -1 && <Paper className={classes.newPaper}>\n            <Typography variant='subtitle2'>New flow</Typography>\n            <TextField\n              id='name'\n              label='Name'\n              required\n              onChange={handleChange('name', setNewFlow, newFlow)}\n              value={newFlow.name}\n              fullWidth\n              className={classes.textField}\n              margin='normal'\n            />\n            <FormControlLabel\n              style={{ color: 'rgba(0, 0, 0, 0.54)' }}\n              control={\n                <Checkbox\n                  checked={newFlow.isActivated}\n                  onChange={e => setNewFlow({ ...newFlow, isActivated: e.target.checked })}\n                  value='checkedB'\n                  color='primary'\n                />\n              }\n              label='Active'\n            />\n          </Paper>}\n        </Grid>\n        <Grid item xs={12} sm={6}>\n          <FormControl className={classes.formControl}>\n            <Autocomplete\n              label='Image'\n              placeholder='Select an image'\n              onChange={(selected, state) => {\n                handleChange('catalog', setMsvc, msvc)({ target: { value: selected || {} } })\n              }}\n              maxSuggestions={20}\n              suggestions={catalog.map(m => ({\n                ...m,\n                label: getCatalogImage(m)\n              })).concat([{\n                id: -1,\n                label: '+ Add an image'\n              }])}\n            />\n          </FormControl>\n          {msvc.catalog.id === -1 && <Paper className={classes.newPaper}>\n            <Typography variant='subtitle2'>New image</Typography>\n            <TextField\n              id='name'\n              label='Name'\n              required\n              onChange={e => setNewCatalogItem({\n                ...newCatalogItem,\n                images: [{\n                  ...newCatalogItem.images[0],\n                  containerImage: e.target.value\n                }]\n              })}\n              value={newCatalogItem.images[0].containerImage}\n              fullWidth\n              className={classes.textField}\n              margin='normal'\n            />\n          </Paper>}\n        </Grid>\n      </Grid>\n      <Grid container spacing={2} >\n        <Grid item xs={12}>\n          <TextField\n            id='name'\n            label='Name'\n            required\n            onChange={handleChange('name', setMsvc, msvc)}\n            value={msvc.name}\n            fullWidth\n            className={classes.textField}\n            margin='normal'\n          />\n        </Grid>\n      </Grid>\n      <Divider className={classes.divider} />\n      <Grid container spacing={2} >\n        <Grid item xs={12}>\n          <Typography style={{ color: 'rgba(0, 0, 0, 0.54)' }} variant='subtitle1'>Configuration</Typography><br />\n          {ReactJsonRef.current}\n        </Grid>\n      </Grid>\n      <Divider className={classes.divider} />\n      <Grid container spacing={2} >\n        <Grid item xs={12}>\n          <Typography style={{ color: 'rgba(0, 0, 0, 0.54)' }} variant='subtitle1'>Volumes</Typography><br />\n          {msvc.volumeMappings.map((v, idx) =>\n            <Grid container spacing={2} key={idx} style={{ alignItems: 'flex-end' }}>\n              <Grid item xs={11}>\n                <Grid container spacing={2}>\n                  <Grid item xs={12} sm={4}>\n                    <TextField\n                      id='host'\n                      label='Host'\n                      required\n                      onChange={handleMsvcChangeArray('volumeMappings', 'hostDestination', idx)}\n                      value={v.hostDestination}\n                      fullWidth\n                      className={classes.textField}\n                      margin='dense'\n                    />\n                  </Grid>\n                  <Grid item xs={12} sm={4}>\n                    <TextField\n                      id='Container'\n                      label='Container'\n                      required\n                      onChange={handleMsvcChangeArray('volumeMappings', 'containerDestination', idx)}\n                      value={v.containerDestination}\n                      fullWidth\n                      className={classes.textField}\n                      margin='dense'\n                    />\n                  </Grid>\n                  <Grid item xs={12} sm={4} >\n                    <FormControl className={classes.formControl} style={{ marginTop: '5px' }}>\n                      <InputLabel htmlFor='select-flow'>Access mode</InputLabel>\n                      <Select\n                        required\n                        value={v.accessMode}\n                        onChange={handleMsvcChangeArray('volumeMappings', 'accessMode', idx)}\n                        input={<Input id='select-flow-input' />}\n                        MenuProps={MenuProps}\n                      >\n                        <MenuItem value='z'>Z</MenuItem>\n                      </Select>\n                    </FormControl>\n                  </Grid>\n                </Grid>\n              </Grid>\n              <Grid item xs={1} className={classes.rowIcon}>\n                <CloseIcon style={{ cursor: 'pointer' }} onClick={() => removeFromArray('volumeMappings', idx)} />\n              </Grid>\n            </Grid>\n          )}\n          <Typography style={{ color: 'rgba(0, 0, 0, 0.54)', cursor: 'pointer' }} variant='caption' onClick={() => addVolume()}>+ Add</Typography>\n        </Grid>\n      </Grid>\n      <Divider className={classes.divider} />\n      <Grid container spacing={2} >\n        <Grid item xs={12}>\n          <Typography style={{ color: 'rgba(0, 0, 0, 0.54)' }} variant='subtitle1'>Ports</Typography><br />\n          {msvc.ports.map((p, idx) =>\n            <Grid container spacing={2} key={idx} style={{ alignItems: 'flex-end' }}>\n              <Grid item xs={11}>\n                <Grid container spacing={2} >\n                  <Grid item xs={12} sm={6}>\n                    <TextField\n                      id='host'\n                      label='External'\n                      required\n                      type='number'\n                      onChange={handleMsvcChangeArray('ports', 'external', idx, parseInt)}\n                      value={p.external}\n                      fullWidth\n                      className={classes.textField}\n                      margin='dense'\n                    />\n                  </Grid>\n                  <Grid item xs={12} sm={6}>\n                    <TextField\n                      id='Container'\n                      label='Internal'\n                      required\n                      fullWidth\n                      type='number'\n                      onChange={handleMsvcChangeArray('ports', 'internal', idx, parseInt)}\n                      value={p.internal}\n                      className={classes.textField}\n                      margin='dense'\n                    />\n                  </Grid>\n                </Grid>\n              </Grid>\n              <Grid item xs={1} className={classes.rowIcon}>\n                <CloseIcon style={{ cursor: 'pointer' }} onClick={() => removeFromArray('ports', idx)} />\n              </Grid>\n            </Grid>\n          )}\n          <Typography style={{ color: 'rgba(0, 0, 0, 0.54)', cursor: 'pointer' }} variant='caption' onClick={() => addPort()}>+ Add</Typography>\n        </Grid>\n      </Grid>\n      <Divider className={classes.divider} />\n      <Grid container spacing={2} >\n        <Grid item xs={12}>\n          <Typography style={{ color: 'rgba(0, 0, 0, 0.54)' }} variant='subtitle1'>Routes</Typography><br />\n          {routes.map((r, idx) =>\n            <Grid container spacing={2} key={idx} style={{ alignItems: 'flex-end' }}>\n              <Grid item xs={11}>\n                <Grid container spacing={2} style={{ alignItems: 'flex-end' }} >\n                  <Grid item xs={12} sm={5}>\n                    {generateRouteSelect(r.from, routeList, 'From', selected => setRoutes([\n                      ...routes.slice(0, idx),\n                      {\n                        ...r,\n                        from: selected || {}\n                      },\n                      ...routes.slice(idx + 1)\n                    ]))}\n                  </Grid>\n                  <Grid item xs={2} className={classes.rowIcon}>\n                    <SwapIcon style={{ cursor: 'pointer' }} onClick={() => setRoutes([\n                      ...routes.slice(0, idx),\n                      {\n                        ...r,\n                        from: r.to,\n                        to: r.from\n                      },\n                      ...routes.slice(idx + 1)\n                    ])} />\n                  </Grid>\n                  <Grid item xs={12} sm={5}>\n                    {generateRouteSelect(r.to, routeList, 'To', selected => setRoutes([\n                      ...routes.slice(0, idx),\n                      {\n                        ...r,\n                        to: selected || {}\n                      },\n                      ...routes.slice(idx + 1)\n                    ]))}\n                  </Grid>\n                </Grid>\n              </Grid>\n              <Grid item xs={1} className={classes.rowIcon}>\n                <CloseIcon style={{ cursor: 'pointer' }} onClick={() => setRoutes([...routes.slice(0, idx), ...routes.slice(idx + 1)])} />\n              </Grid>\n            </Grid>\n          )}\n          <Typography style={{ color: 'rgba(0, 0, 0, 0.54)', cursor: 'pointer' }} variant='caption' onClick={() => setRoutes([...routes, initRoute(msvc)])}>+ Add</Typography>\n        </Grid>\n      </Grid>\n      <Divider className={classes.divider} />\n      <FormControlLabel\n        style={{ color: 'rgba(0, 0, 0, 0.54)' }}\n        control={\n          <Checkbox\n            checked={msvc.rootHostAccess}\n            onChange={e => setMsvc({ ...msvc, rootHostAccess: e.target.checked })}\n            value='checkedB'\n            color='primary'\n          />\n        }\n        label='Root host access'\n      />\n      <Divider className={classes.divider} />\n      <Grid container justify='flex-end'>\n        <Grid item>\n          <Button onClick={createMsvc}>\n            Add\n          </Button>\n        </Grid>\n      </Grid>\n    </React.Fragment>\n  )\n}\n","import React from 'react'\n\nimport { FormControl, Divider, Grid, Button, Input, InputLabel, Select, MenuItem, Checkbox, ListItemText, Chip } from '@material-ui/core'\n\nimport { makeStyles } from '@material-ui/styles'\nimport { FeedbackContext } from '../../Utils/FeedbackContext'\nimport { ControllerContext } from '../../ControllerProvider'\nconst useStyles = makeStyles({\n  chips: {\n    display: 'flex',\n    flexWrap: 'wrap'\n  },\n  chip: {\n    margin: 2\n  },\n  formControl: {\n    width: '100%',\n    marginBottom: '15px'\n  },\n  divider: {\n    margin: '5px'\n  }\n})\n\nconst ITEM_HEIGHT = 48\nconst ITEM_PADDING_TOP = 8\nconst MenuProps = {\n  PaperProps: {\n    style: {\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\n      width: 250\n    }\n  }\n}\n\nexport default function RemoveMicroservice (props) {\n  const classes = useStyles()\n  const [msvcsToRemove, setMsvcsToRemove] = React.useState([])\n  const { pushFeedback } = React.useContext(FeedbackContext)\n  const { request } = React.useContext(ControllerContext)\n\n  function handleChange (event) {\n    setMsvcsToRemove(event.target.value)\n  }\n\n  const remove = async () => {\n    try {\n      let success = true\n      for (const uuid of msvcsToRemove) {\n        const res = request(`/api/v3/microservices/${uuid}`, {\n          method: 'DELETE'\n        })\n        if (!res.ok) {\n          success = false\n          pushFeedback({ message: `${msvcsPerUUID[uuid].name}: ${res.statusText}`, type: 'error', uuid })\n        } else {\n          const idx = msvcsToRemove.indexOf(uuid)\n          setMsvcsToRemove([...msvcsToRemove.slice(0, idx), ...msvcsToRemove.slice(idx + 1)])\n        }\n      }\n      if (success) {\n        pushFeedback({ message: 'Microservices removed', type: 'success', uuid: 'success' })\n        props.onSuccess()\n      }\n    } catch (e) {\n      pushFeedback({ message: e.message, type: 'error', uuid: 'error' })\n    }\n  }\n\n  const { msvcs } = props\n\n  const msvcsPerUUID = msvcs.reduce((r, m) => ({\n    ...r,\n    [m.uuid]: m\n  }), {})\n\n  return (\n    <React.Fragment>\n      <FormControl className={classes.formControl}>\n        <InputLabel htmlFor='select-multiple-checkbox'>Microservices to remove</InputLabel>\n        <Select\n          multiple\n          value={msvcsToRemove}\n          onChange={handleChange}\n          input={<Input id='select-multiple-checkbox-rm-msvcs' />}\n          renderValue={selected => (\n            <div className={classes.chips}>\n              {selected.map(uuid => (\n                msvcsPerUUID[uuid] && <Chip key={uuid} label={msvcsPerUUID[uuid].name} className={classes.chip} />\n              ))}\n            </div>\n          )}\n          MenuProps={MenuProps}\n        >\n          {msvcs.map(m => (\n            <MenuItem key={m.uuid} value={m.uuid}>\n              <Checkbox checked={msvcsToRemove.indexOf(m.uuid) > -1} />\n              <ListItemText primary={m.name} />\n            </MenuItem>\n          ))}\n        </Select>\n      </FormControl>\n      <Divider className={classes.divider} />\n      <Grid container justify='flex-end'>\n        <Grid item>\n          <Button onClick={remove}>\n            Remove\n          </Button>\n        </Grid>\n      </Grid>\n    </React.Fragment>\n  )\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Tabs from '@material-ui/core/Tabs'\nimport Tab from '@material-ui/core/Tab'\nimport Typography from '@material-ui/core/Typography'\n\nfunction TabContainer (props) {\n  return (\n    <Typography component='div' style={{ padding: 8 * 3 }}>\n      {props.children}\n    </Typography>\n  )\n}\n\nTabContainer.propTypes = {\n  children: PropTypes.node.isRequired\n}\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1,\n    backgroundColor: theme.palette.background.paper\n  }\n}))\n\nexport default function SimpleTabs (props) {\n  const classes = useStyles()\n  const [value, setValue] = React.useState(0)\n\n  function handleChange (event, newValue) {\n    setValue(newValue)\n  }\n\n  return (\n    <div className={classes.root}>\n      <Tabs value={value} onChange={handleChange}>\n        {props.children.map(child => {\n          return (\n            <Tab label={child.props.title} />\n          )\n        })}\n      </Tabs>\n      <TabContainer>{props.children[value]}</TabContainer>\n    </div>\n  )\n}\n","import React from 'react'\nimport ReactJson from 'react-json-view'\n\nimport { Divider, List, ListItem, ListSubheader, ListItemAvatar, Chip, Avatar, ListItemText, Menu, MenuItem, Typography } from '@material-ui/core'\n\nimport MoreIcon from '@material-ui/icons/MoreVert'\nimport MemoryIcon from '@material-ui/icons/Memory'\n\nimport { makeStyles } from '@material-ui/styles'\n\nimport { statusColor, msvcStatusColor } from '../utils'\nimport Modal from '../../Utils/Modal'\nimport Confirm from '../../Utils/Confirm'\nimport { FeedbackContext } from '../../Utils/FeedbackContext'\n\nimport ConnectNode from './ConnectNode'\nimport AddMicroservice from './AddMicroservice'\nimport RemoveMicroservice from './RemoveMicroservice'\nimport SimpleTabs from './Tabs'\nimport { ControllerContext } from '../../ControllerProvider'\n\nconst useStyles = makeStyles(theme => ({\n  avatarList: {\n    color: 'white',\n    backgroundColor: 'var(--statusColor, white)',\n    boxShadow: `0px 2px 2px ${theme.colors.carbon}`\n  },\n  msvcChipList: {\n    display: 'flex',\n    flexDirection: 'column',\n    width: '20%',\n    flex: '1',\n    paddingRight: '15px'\n  },\n  msvcChip: {\n    marginTop: 'var(--mTop, 0px)',\n    backgroundColor: `var(--color, ${theme.colors.cobalt})`,\n    fontSize: '10px',\n    borderRadius: '5px',\n    height: '20px',\n    margin: '2px',\n    width: '100px',\n    color: 'white',\n    '& .MuiChip-label': {\n      textOverflow: 'ellipsis',\n      whiteSpace: 'nowrap',\n      overflow: 'hidden',\n      display: 'block'\n    }\n  },\n  jsonDisplay: {\n    width: '99%',\n    minHeight: '30rem',\n    fontFamily: '\"Lucida Console\", Monaco, monospace',\n    fontSize: '0.8rem',\n    lineHeight: '1.2'\n  },\n  listTitle: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'baseline',\n    color: theme.palette.text.primary\n  },\n  link: {\n    color: theme.palette.text.secondary,\n    cursor: 'pointer',\n    '&:hover': {\n      textDecoration: 'underline'\n    }\n  }\n}))\n\nexport default function AgentList (props) {\n  const classes = useStyles()\n  const [openRemoveAgentConfirm, setOpenRemoveAgentConfirm] = React.useState(false)\n  const [openDetailsModal, setOpenDetailsModal] = React.useState(false)\n  const [openConnectNodeModal, setOpenConnectNodeModal] = React.useState(false)\n  const [openAddMicroserviceModal, setOpenAddMicroserviceModal] = React.useState(false)\n  const [openRemoveMicroserviceModal, setOpenRemoveMicroserviceModal] = React.useState(false)\n  const [menuAnchorEl, setMenuAnchorEl] = React.useState(null)\n  const { msvcsPerAgent, msvcs, agents, agent, setAgent, setAutozoom, loading } = props\n  const feedbackContext = React.useContext(FeedbackContext)\n  const { request } = React.useContext(ControllerContext)\n\n  const handleCloseMenu = () => setMenuAnchorEl(null)\n  const openMenu = (e) => setMenuAnchorEl(e.currentTarget)\n  const openDetails = () => {\n    setOpenDetailsModal(true)\n    handleCloseMenu()\n  }\n  const openAddMicroservice = () => {\n    setOpenAddMicroserviceModal(true)\n    handleCloseMenu()\n  }\n  const openRemoveMicroservice = () => {\n    setOpenRemoveMicroserviceModal(true)\n    handleCloseMenu()\n  }\n\n  const openRemoveAgent = () => {\n    setOpenRemoveAgentConfirm(true)\n    handleCloseMenu()\n  }\n\n  const removeAgent = async (iofog) => {\n    try {\n      const response = await request(`/api/v3/iofog/${iofog.uuid}`, {\n        method: 'DELETE'\n      })\n      if (!response.ok) {\n        feedbackContext.pushFeedback({ message: `Failed to remove node: ${response.statusText}`, type: 'error' })\n      } else {\n        feedbackContext.pushFeedback({ message: 'Agent removed!', type: 'success' })\n      }\n      setOpenRemoveAgentConfirm(false)\n    } catch (e) {\n      feedbackContext.pushFeedback({ message: e.message, type: 'error' })\n    }\n  }\n\n  return (\n    <React.Fragment>\n      <List\n        subheader={\n          <ListSubheader component='div' id='agent-list-subheader' style={{ position: 'relative' }} disableGutters disableSticky>\n            <div className={classes.listTitle}>\n              <div>\n                <Typography variant='h5'>Agents - <small>{loading ? 0 : agents.length} nodes</small></Typography>\n                {/* <small className={classes.link} onClick={() => setOpenConnectNodeModal(!openConnectNodeModal)}>+ Add node</small> */}\n              </div>\n              <div>\n                <small className={classes.link} onClick={() => setAutozoom(true)}>See all ECN</small>\n              </div>\n            </div>\n          </ListSubheader>\n        }\n      >\n        {(loading ? [] : agents).map(a => {\n          const msvcs = msvcsPerAgent[a.uuid] || []\n          return (\n            <ListItem button key={a.uuid} onClick={() => setAgent(a)} selected={a.uuid === agent.uuid}>\n              <ListItemAvatar>\n                <Avatar style={{ '--statusColor': statusColor[a.daemonStatus] }} className={classes.avatarList}>\n                  <MemoryIcon />\n                </Avatar>\n              </ListItemAvatar>\n              <ListItemText primary={a.name} secondary={`${msvcs.length} Microservices`} />\n              <div className={classes.msvcChipList}>\n                {msvcs.map((m, idx) => (\n                  <React.Fragment key={m.uuid}>\n                    <Chip\n                      size='small'\n                      label={m.name}\n                      style={{\n                        '--mTop': idx ? '2px' : '0px',\n                        '--color': msvcStatusColor[(a.daemonStatus === 'RUNNING' && m.flowActive) ? 'RUNNING' : 'UNKNOWN']\n                      }}\n                      className={classes.msvcChip}\n                      title={m.name}\n                    />\n                  </React.Fragment>\n                ))}\n              </div>\n              <MoreIcon onClick={openMenu} />\n            </ListItem>\n          )\n        })}\n      </List>\n      <Modal\n        {...{\n          open: openDetailsModal,\n          title: `${agent.name} details`,\n          onClose: () => setOpenDetailsModal(false)\n        }}\n      >\n        <SimpleTabs>\n          <ReactJson title='Agent' src={agent} name={false} />\n          <ReactJson title='Microservices' src={msvcsPerAgent[agent.uuid]} name={false} />\n        </SimpleTabs>\n      </Modal>\n      <Modal\n        {...{\n          open: openAddMicroserviceModal,\n          title: `Deploy microservice to ${agent.name}`,\n          onClose: () => setOpenAddMicroserviceModal(false)\n        }}\n      >\n        <AddMicroservice {...{\n          target: agent,\n          microservices: msvcs,\n          onSuccess: () => setOpenAddMicroserviceModal(false)\n        }} />\n      </Modal>\n      <Modal\n        {...{\n          open: openRemoveMicroserviceModal,\n          title: `Remove microservice from ${agent.name}`,\n          onClose: () => setOpenRemoveMicroserviceModal(false)\n        }}\n      >\n        <RemoveMicroservice\n          {...{\n            target: agent,\n            msvcs: msvcsPerAgent[agent.uuid] || [],\n            onSuccess: () => setOpenRemoveMicroserviceModal(false)\n          }}\n        />\n      </Modal>\n      <Modal\n        {...{\n          open: openConnectNodeModal,\n          title: `Connect agent`,\n          onClose: () => setOpenConnectNodeModal(false)\n        }}\n      >\n        <ConnectNode\n          {...{\n            controller: props.controller,\n            onSuccess: () => setOpenConnectNodeModal(false)\n          }}\n        />\n      </Modal>\n      <Confirm\n        {...{\n          open: openRemoveAgentConfirm,\n          title: `Remove agent: ${agent.name}`,\n          onClose: () => setOpenRemoveAgentConfirm(false),\n          onConfirm: () => removeAgent(agent)\n        }}\n      >\n        <Typography variant='h5'>Confirm removal of agent UUID: {agent.uuid}</Typography>\n      </Confirm>\n      <Menu\n        id='agent-menu'\n        anchorEl={menuAnchorEl}\n        keepMounted\n        open={Boolean(menuAnchorEl)}\n        onClose={handleCloseMenu}\n      >\n        <MenuItem onClick={openDetails}>Details</MenuItem>\n        {/* <MenuItem onClick={openRemoveAgent}>Remove agent</MenuItem> */}\n        {/* <Divider />\n        <MenuItem onClick={openAddMicroservice}>Add microservice</MenuItem>\n        <MenuItem onClick={openRemoveMicroservice}>Remove microservice</MenuItem> */}\n      </Menu>\n    </React.Fragment>\n  )\n}\n","import React from 'react'\nimport { isFinite, get } from 'lodash'\n\nimport GoogleMapReact from 'google-map-react'\nimport { fitBounds } from 'google-map-react/utils'\n\nimport { Badge, Avatar } from '@material-ui/core'\n\nimport MemoryIcon from '@material-ui/icons/Memory'\nimport CtrlIcon from '@material-ui/icons/DeveloperBoard'\n\nimport { makeStyles, useTheme } from '@material-ui/styles'\n\nimport { statusColor, msvcStatusColor } from './utils'\n\nconst useStyles = makeStyles(theme => ({\n  mapMarkerTransform: {\n    transform: 'translate(-50%, -100%)',\n    position: 'absolute'\n  },\n  msvcBadge: {\n    '& .MuiBadge-badge': {\n      backgroundColor: `var(--color, ${theme.colors.cobalt})`\n    }\n  },\n  mapMarker: {\n    backgroundColor: `var(--markerColor, ${theme.colors.success})`,\n    borderRadius: '50% 50% 50% 0 !important',\n    border: `2px solid var(--markerColor, ${theme.colors.success})`,\n    transform: 'rotate(-45deg)',\n    '& .MuiSvgIcon-root': {\n      transform: 'rotate(-45deg)'\n    }\n  },\n  mapWrapper: {\n    boxShadow: '0px 1px 3px 0px rgba(0,0,0,0.2), 0px 1px 1px 0px rgba(0,0,0,0.14), 0px 2px 1px -1px rgba(0,0,0,0.12)',\n    borderRadius: '4px',\n    width: '100%',\n    height: '100%',\n    maxHeight: '700px',\n    position: 'sticky',\n    top: '25px',\n    borderColor: theme.colors.aluminium,\n    '& div': {\n      borderRadius: '4px',\n      '& div': {\n        borderRadius: '4px'\n      }\n    }\n  }\n}))\n\nconst hasValidCoordinates = (coordinates) => {\n  return isFinite(coordinates[0]) && isFinite(coordinates[1])\n}\n\nexport default function Map (props) {\n  const classes = useStyles()\n  const theme = useTheme()\n  const DomElementRef = React.useRef()\n  const { controller, agent, setAgent, msvcsPerAgent, map, autozoom, loading } = props\n\n  const setMap = () => {\n    const bounds = new window.google.maps.LatLngBounds() // need handler incase `google` not yet available\n\n    const agents = (controller.agents || []).filter(a => hasValidCoordinates([a.latitude, a.longitude]))\n\n    if (!agents.length) {\n      map.center = [get(controller, 'info.location.lat', 0), get(controller, 'info.location.lon', 0)]\n      map.zoom = 9\n      return\n    }\n\n    agents.forEach(marker => {\n      bounds.extend(new window.google.maps.LatLng(get(marker, 'latitude', 0), get(marker, 'longitude', 0)))\n    })\n\n    bounds.extend(new window.google.maps.LatLng(get(controller, 'info.location.lat', 0), get(controller, 'info.location.lon', 0)))\n\n    const newBounds = {\n      ne: {\n        lat: bounds.getNorthEast().lat(),\n        lng: bounds.getNorthEast().lng()\n      },\n      sw: {\n        lat: bounds.getSouthWest().lat(),\n        lng: bounds.getSouthWest().lng()\n      }\n    }\n\n    const size = {\n      width: get(DomElementRef, 'current.offsetWidth', 600),\n      height: get(DomElementRef, 'current.offsetHeight', 800)\n    }\n\n    const { center, zoom } = fitBounds(newBounds, size)\n    map.center = center\n    map.zoom = zoom\n  }\n\n  if (autozoom && window.google) {\n    setMap()\n  }\n\n  return (\n    <div className={classes.mapWrapper} ref={DomElementRef}>\n      <GoogleMapReact\n        {...map}\n        bootstrapURLKeys={{\n          key: 'AIzaSyChp_fUXiK05ulRl_ewRGKWsQ1k0ULIFkA'\n        }}\n      >\n        {(loading ? [] : controller.agents).filter(a => hasValidCoordinates([a.latitude, a.longitude])).map(a =>\n          <div\n            key={a.uuid}\n            lat={a.latitude} lng={a.longitude}\n            className={classes.mapMarkerTransform}\n            onClick={() => setAgent(a)}\n          >\n            <Badge color='primary' style={{ '--color': msvcStatusColor[a.daemonStatus] }} badgeContent={(msvcsPerAgent[a.uuid] || []).filter(m => m.flowActive).length} invisible={a.uuid !== agent.uuid} className={`${classes.msvcBadge}`}>\n              <Avatar\n                style={{ '--markerColor': statusColor[a.daemonStatus] }}\n                className={classes.mapMarker}>\n                <MemoryIcon />\n              </Avatar>\n            </Badge>\n          </div>\n        )}\n        {!loading && controller.info && hasValidCoordinates([controller.info.location.lat, controller.info.location.lon]) && <Avatar\n          lat={controller.info.location.lat}\n          lng={controller.info.location.lon}\n          style={{ '--markerColor': theme.colors.argon }}\n          className={classes.mapMarker}>\n          <CtrlIcon />\n        </Avatar>}\n      </GoogleMapReact>\n    </div>\n  )\n}\n","import React, { useState } from 'react'\nimport { useInterval } from '../hooks/useInterval'\nimport { find, groupBy, get, isFinite } from 'lodash'\n\nimport Divider from '@material-ui/core/Divider'\nimport { makeStyles } from '@material-ui/styles'\n\nimport ControllerInfo from './ControllerInfo'\nimport ActiveResources from './ActiveResources'\nimport AgentList from './AgentList'\nimport Map from './Map'\n\n// import logo from '../assets/logo.png'\nimport './layout.scss'\n\nimport mapStyle from './mapStyle.json'\nimport { ControllerContext } from '../ControllerProvider'\n\nconst useStyles = makeStyles({\n  divider: {\n    margin: '15px 0'\n  }\n})\n\nconst initState = {\n  controller: {\n    info: {\n      location: {},\n      user: {}\n    },\n    agents: [],\n    flows: [],\n    microservices: []\n  },\n  agent: {},\n  activeAgents: [],\n  activeFlows: [],\n  activeMsvcs: [],\n  msvcsPerAgent: []\n}\n\nexport const actions = {\n  UPDATE: 'UPDATE',\n  SET_AGENT: 'SET_AGENT'\n}\n\nconst updateData = (state, newController) => {\n  if (!newController) {\n    return state\n  }\n  const activeFlows = newController.flows.filter(f => f.isActivated === true)\n  const activeAgents = newController.agents.filter(a => a.daemonStatus === 'RUNNING')\n  const msvcsPerAgent = groupBy(newController.microservices.map(m => ({\n    ...m,\n    flowActive: !!find(activeFlows, f => m.flowId === f.id)\n  })), 'iofogUuid')\n  const activeMsvcs = activeAgents.reduce((res, a) => res.concat(get(msvcsPerAgent, a.uuid, []).filter(m => !!find(activeFlows, f => f.id === m.flowId)) || []), [])\n\n  if (!state.agent || !state.agent.uuid) {\n    state.agent = newController.agents[0] || {}\n  }\n\n  return {\n    ...state,\n    controller: newController,\n    activeFlows,\n    activeAgents,\n    activeMsvcs,\n    msvcsPerAgent\n  }\n}\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case actions.UPDATE:\n      return updateData(state, action.data)\n    case actions.SET_AGENT:\n      return {\n        ...state,\n        agent: action.data\n      }\n    default:\n      return state\n  }\n}\n\nexport default function ECNViewer () {\n  const classes = useStyles()\n  const [state, dispatch] = React.useReducer(reducer, initState)\n  const [autozoom, setAutozoom] = useState(true)\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState(false)\n  const [map, setMap] = useState({\n    center: [0, 0],\n    zoom: 15,\n    options: {\n      styles: mapStyle\n    }\n  })\n  const { controller: controllerInfo, request } = React.useContext(ControllerContext)\n  React.useEffect(() => {\n    setLoading(true)\n    setError(null)\n  }, [controllerInfo])\n\n  const update = async () => {\n    const agentsResponse = await request('/api/v3/iofog-list')\n    if (!agentsResponse.ok) {\n      setError({ message: agentsResponse.statusText })\n      return\n    }\n    const agents = (await agentsResponse.json()).fogs\n    const flowsResponse = await request('/api/v3/flow')\n    if (!flowsResponse.ok) {\n      setError({ message: flowsResponse.statusText })\n      return\n    }\n    const flows = (await flowsResponse.json()).flows\n\n    let microservices = []\n    for (const flow of flows) {\n      const microservicesResponse = await request(`/api/v3/microservices?flowId=${flow.id}`)\n      if (!flowsResponse.ok) {\n        setError({ message: microservicesResponse.statusText })\n        return\n      }\n      microservices = microservices.concat((await microservicesResponse.json()).microservices)\n    }\n    if (loading) {\n      setLoading(false)\n    }\n    if (error) {\n      setError(false)\n    }\n    dispatch({ type: actions.UPDATE, data: { agents, flows, microservices } })\n  }\n\n  useInterval(() => {\n    update()\n  }, [3000])\n\n  const setAgent = a => dispatch({ type: actions.SET_AGENT, data: a })\n\n  const selectAgent = (a) => {\n    setAgent(a)\n    if (isFinite(a.latitude) && isFinite(a.longitude)) {\n      setMap({ ...map, center: [a.latitude, a.longitude], zoom: 15 })\n      setAutozoom(false)\n    }\n  }\n\n  const selectController = () => {\n    setMap({ ...map, center: [controllerInfo.location.lat, controllerInfo.location.lon], zoom: 15 })\n    setAutozoom(false)\n  }\n\n  const centerMap = (coordinates) => { setMap({ ...map, center: coordinates }) }\n\n  const { controller, activeAgents, activeFlows, activeMsvcs, agent, msvcsPerAgent } = state\n  return (\n    <div className='viewer-layout-container'>\n      <div className='box sidebar'>\n        <ControllerInfo {...{ controller: controllerInfo, selectController, loading, error }} />\n        <Divider className={classes.divider} />\n        <ActiveResources {...{ activeAgents, activeFlows, activeMsvcs, loading }} />\n        <Divider className={classes.divider} />\n        <AgentList {...{ msvcsPerAgent, loading, msvcs: controller.microservices, agents: controller.agents, agent, setAgent: selectAgent, centerMap, setAutozoom, controller: controller.info }} />\n      </div>\n      <div className='map-grid-container'>\n        <Map {...{ controller: { ...controller, info: controllerInfo }, agent, setAgent, msvcsPerAgent, map, autozoom, setAutozoom, loading }} />\n      </div>\n    </div>\n  )\n}\n","import { useEffect, useRef } from 'react'\n\nexport function useInterval (callback, delay) {\n  const savedCallback = useRef()\n\n  // Remember the latest callback.\n  useEffect(() => {\n    savedCallback.current = callback\n  }, [callback])\n\n  // Set up the interval.\n  useEffect(() => {\n    function tick () {\n      savedCallback.current()\n    }\n    if (delay !== null) {\n      let id = setInterval(tick, delay)\n      return () => clearInterval(id)\n    }\n  }, [delay])\n}\n","import React from 'react'\nimport { TextField, Grid, Button } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/styles'\n\nimport { ControllerContext } from '../ControllerProvider'\nimport { FeedbackContext } from '../Utils/FeedbackContext'\n\nconst useStyles = makeStyles({\n  skeleton: {\n    minHeight: '55px'\n  }\n})\n\nexport default function Config (props) {\n  const classes = useStyles()\n  const { pushFeedback } = React.useContext(FeedbackContext)\n  const { controller, updateController } = React.useContext(ControllerContext)\n  const [data, setData] = React.useState({ ...controller })\n\n  const save = async () => {\n    try {\n      await updateController(data)\n      pushFeedback({ message: data.dev ? 'Controller details saved!' : 'Authenticated!', type: 'success' })\n      props.onSave()\n    } catch (e) {\n      pushFeedback({ message: e.message, type: 'error' })\n    }\n  }\n\n  const handleChange = name => event => {\n    setData({ ...data, [name]: event.target.value })\n  }\n  const handleUserChange = name => event => {\n    setData({ ...data, user: { ...data.user, [name]: event.target.value } })\n  }\n  return (\n    <React.Fragment>\n      {data.dev && <Grid container spacing={2} >\n        <Grid item xs={12} sm={6}>\n          <TextField\n            id='ip'\n            label='IP'\n            onChange={handleChange('ip')}\n            value={data.ip}\n            fullWidth\n            className={classes.textField}\n            margin='normal'\n            variant='outlined'\n          />\n        </Grid>\n        <Grid item xs={12} sm={6}>\n          <TextField\n            id='port'\n            label='Port'\n            onChange={handleChange('port')}\n            value={data.port}\n            fullWidth\n            className={classes.textField}\n            margin='normal'\n            variant='outlined'\n          />\n        </Grid>\n      </Grid>}\n      <Grid container spacing={2}>\n        <Grid item xs={12} sm={6}>\n          <TextField\n            id='email'\n            label='Email'\n            onChange={handleUserChange('email')}\n            value={data.user.email}\n            fullWidth\n            className={classes.textField}\n            margin='normal'\n            variant='outlined'\n          />\n        </Grid>\n        <Grid item xs={12} sm={6}>\n          <TextField\n            id='password'\n            label='Password'\n            onChange={handleUserChange('password')}\n            onKeyPress={(e) => e.key === 'Enter' && data.user.email && data.user.password ? save() : null}\n            value={data.user.password}\n            fullWidth\n            type='password'\n            className={classes.textField}\n            margin='normal'\n            variant='outlined'\n          />\n        </Grid>\n      </Grid>\n      <Grid container justify='flex-end'>\n        <Grid item>\n          <Button onClick={save}>\n            Save\n          </Button>\n        </Grid>\n      </Grid>\n    </React.Fragment>\n  )\n}\n","import React from 'react'\nimport { HashRouter, Route, Switch, NavLink, Redirect } from 'react-router-dom'\nimport Avatar from '@material-ui/core/Avatar'\nimport SearchIcon from '@material-ui/icons/Search'\nimport NotificationsIcon from '@material-ui/icons/NotificationsOutlined'\nimport HomeIcon from '@material-ui/icons/HomeOutlined'\nimport FakeIcon1 from '@material-ui/icons/GraphicEqOutlined'\nimport SettingsIcon from '@material-ui/icons/SettingsOutlined'\n\nimport ECNViewer from '../ECNViewer'\nimport Modal from '../Utils/Modal'\nimport Config from '../Config'\nimport { ControllerContext } from '../ControllerProvider'\n\nimport logomark from '../assets/logomark.svg'\nimport './layout.scss'\n\nimport { makeStyles } from '@material-ui/styles'\n\nconst useStyles = makeStyles(theme => ({\n  wrapper: {\n    color: theme.colors.carbon,\n    backgroundColor: theme.colors.silver\n  },\n  divider: {\n    margin: '15px 0'\n  },\n  logo: {\n    backgroundColor: theme.colors.phosphorus,\n    color: theme.colors.white\n  },\n  latNav: {\n    backgroundColor: theme.colors.carbon\n  },\n  avatarContainer: {\n    backgroundColor: theme.colors.phosphorus,\n    marginRight: '45px'\n  },\n  latIcons: {\n    margin: 'auto',\n    marginTop: '15px',\n    cursor: 'pointer',\n    backgroundColor: theme.colors.carbon,\n    '.active &': {\n      backgroundColor: theme.colors.aluminium\n    }\n  },\n  topIcons: {\n    height: '100%',\n    width: '25px',\n    marginRight: '25px',\n    cursor: 'pointer'\n  },\n  nav: {\n    marginBottom: '15px',\n    height: '50px',\n    '& a': {\n      height: '100%',\n      '& img': {\n        height: '100%'\n      }\n    }\n  },\n  footerContainer: {\n    display: 'flex',\n    justifyContent: 'space-around',\n    justifyItems: 'center',\n    padding: '20px 10px 20px 0px'\n  },\n  footer: {\n    color: theme.colors.aluminium,\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'flex-end',\n    fontSize: '9pt',\n    '& a': {\n      color: theme.colors.aluminium,\n      textDecoration: 'none!important'\n    }\n  }\n}))\n\nexport default function Layout () {\n  const classes = useStyles()\n  const { controller } = React.useContext(ControllerContext)\n  const [settingsOpen, setSettingsOpen] = React.useState(!(controller.user.email && controller.user.password))\n\n  console.log(' ====> Rendering layout')\n\n  return <React.Fragment>\n    <HashRouter>\n      <div className={classes.wrapper + ' wrapper'}>\n        <div className={classes.logo + ' logo'}>\n          <NavLink to='/overview' >\n            <img src={logomark} alt='Edgeworx logomark' />\n          </NavLink>\n        </div>\n        <div className='topnav'>\n          <SearchIcon className={classes.topIcons} />\n          <NotificationsIcon className={classes.topIcons} />\n          <Avatar className={classes.avatarContainer} >M</Avatar>\n        </div>\n        <div className={classes.latNav + ' latnav'}>\n          <NavLink to='/overview' >\n            <Avatar className={classes.latIcons} >\n              <HomeIcon />\n            </Avatar>\n          </NavLink>\n          {/* <NavLink to='/routes' > */}\n          <Avatar className={classes.latIcons} >\n            <FakeIcon1 />\n          </Avatar>\n          {/* </NavLink> */}\n          <Avatar className={classes.latIcons} >\n            <SettingsIcon onClick={() => setSettingsOpen(!settingsOpen)} />\n          </Avatar>\n        </div>\n        <div className='content'>\n          <Switch>\n            {/* <Route path='/routes' component={() => 'Hello agents'} /> */}\n            <Route path='/overview' component={ECNViewer} />\n            <Route component={() => <Redirect to='/overview' />} />\n          </Switch>\n        </div>\n        <div className={`${classes.footerContainer} footer`}>\n          <span className={classes.footer}><a href=\"http://www.eclipse.org/legal/copyright.php\">© 2019 Eclipse Foundation, Inc.</a></span>\n        </div>\n      </div>\n    </HashRouter>\n    <Modal\n      {...{\n        open: settingsOpen,\n        title: controller.dev ? `Controller details` : `User credentials`,\n        onClose: () => setSettingsOpen(false)\n      }}\n    >\n      <Config {...{ onSave: () => setSettingsOpen(false) }} />\n    </Modal>\n\n  </React.Fragment>\n}\n","import React from 'react'\n\nimport CssBaseline from '@material-ui/core/CssBaseline'\n\nimport Layout from './Layout'\n\nimport './App.css'\nimport FeedbackContext from './Utils/FeedbackContext'\nimport ThemeContext from './Theme/ThemeProvider'\nimport ControllerContext from './ControllerProvider'\n\nfunction App () {\n  console.log(' ======> Rendering app ')\n  return (\n    <React.Fragment>\n      <CssBaseline />\n      <ThemeContext>\n        <ControllerContext>\n          <FeedbackContext>\n            <Layout />\n          </FeedbackContext>\n        </ControllerContext>\n      </ThemeContext>\n    </React.Fragment>\n  )\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\n\nReactDOM.render(<App />, document.getElementById('root'))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}